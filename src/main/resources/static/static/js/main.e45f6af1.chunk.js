(this["webpackJsonpsurvey-generator"]=this["webpackJsonpsurvey-generator"]||[]).push([[0],{207:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t),a.d(t,"authCtx",(function(){return Je}));var s=a(3),n=a(1),r=a.n(n),c=a(44),l=a.n(c),i=a(69),o=a(0);function d(e){var t=e.children,a=e.wFull,s=e.variant,n=e.disabled,r=e.onClick,c=e.type;switch(s){case"primary":return Object(o.jsx)("button",{className:"flex justify-center items-center py-2 px-3 bg-purple-500 hover:bg-purple-600 rounded-lg shadow-sm text-white disabled:opacity-50 ".concat(a&&"w-full"),disabled:n,type:c,onClick:r,children:t});case"danger":return Object(o.jsx)("button",{className:"flex justify-center items-center py-2 px-3 bg-red-500 hover:bg-red-400 rounded-lg shadow-sm text-white disabled:opacity-50 ".concat(a&&"w-full"),disabled:n,type:c,onClick:r,children:t});case"grayed":return Object(o.jsx)("button",{className:"flex justify-center items-center py-2 px-3 bg-gray-200 hover:bg-gray-300 rounded-lg shadow-sm text-gray-500 hover:text-gray-700 disabled:opacity-50 ".concat(a&&"w-full"),disabled:n,type:c,onClick:r,children:t});case"secondary":return Object(o.jsx)("button",{className:"flex justify-center items-center py-1 px-3 border-2 border-purple-500 hover:bg-purple-500 rounded-lg shadow-sm text-purple-500 hover:text-white disabled:opacity-50 ".concat(a&&"w-full"),disabled:n,type:c,onClick:r,children:t});default:return Object(o.jsx)("button",{className:"flex justify-center items-center py-2 px-3 bg-purple-500 hover:bg-purple-600 rounded-lg shadow-sm text-white disabled:opacity-50 ".concat(a&&"w-full"),disabled:n,type:c,onClick:r,children:t})}}function u(e){var t=e.id,a=e.label,s=e.maxLength,n=e.minLength,r=e.placeholder,c=e.isRequired,l=e.type,i=e.autoComplete,d=e.onBlur,u=e.onChange,j=e.onFocus,b=e.value,x=e.readOnly;return Object(o.jsxs)("div",{className:"flex flex-col space-y-2 w-full",children:[a&&Object(o.jsxs)("label",{htmlFor:t,children:[a,c&&Object(o.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(o.jsx)("input",{autoComplete:i,className:"p-2 border-2 border-gray-100 rounded-lg focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-purple-500 ",id:t,maxLength:s,minLength:n,placeholder:r,readOnly:x,required:c,type:l,value:b,onBlur:d,onChange:u,onFocus:j})]})}var j=a(122),b=a.n(j),x=(a(198),a(14));function p(e,t){Object(n.useEffect)((function(){function a(a){e.current&&!e.current.contains(a.target)&&t()}return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}),[t,e])}function h(e){var t=e.id,a=e.label,r=e.placeholder,c=e.selectedDay,l=e.setSelectedDays,i=Object(n.useState)(!1),d=Object(s.a)(i,2),h=d[0],m=d[1],f=Object(n.useRef)(null);return p(f,(function(){m(!1)})),Object(o.jsxs)("div",{className:"relative",children:[Object(o.jsx)(u,{id:t,isRequired:!0,label:a,placeholder:r,readOnly:!0,type:"text",value:null===c||void 0===c?void 0:c.toString(),onFocus:function(){m((function(e){return!e}))}}),h&&Object(o.jsx)("div",{className:"bg-white rounded-lg p-3 shadow-2xl absolute bottom-12 left-10 border-2 border-purple-500",ref:f,children:Object(o.jsx)(b.a,{selectedDays:c,onDayClick:function(e){j.DateUtils.isFutureDay(e)?(l(e),m(!1)):x.b.warning("Pick a day greater than today")}})})]})}var m=a(13),f=a(22);function O(){var e=Object(f.g)();return Object(o.jsxs)("div",{className:"flex items-center justify-between space-x-2 font-bold text-2xl text-purple-700 cursor-pointer",onClick:function(){e.push("/web/")},children:[Object(o.jsx)(m.n,{}),Object(o.jsx)("h1",{className:"hidden md:block",children:"Survey Forms"})]})}var v=a(19);function g(e){var t=r.a.useState(!1),a=Object(s.a)(t,2),c=a[0],l=a[1],i=e.isLogin,d=Object(n.useContext)(Je),u=d.state,j=d.handleUpdate,b=Boolean(u.token);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"flex flex-wrap",children:Object(o.jsx)("div",{className:"w-full ",children:Object(o.jsx)("nav",{className:"relative flex flex-wrap items-center justify-between px-2 py-3 border-b-2 border-gray-100 bg-white ",children:Object(o.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(o.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto px-4 lg:static lg:block lg:justify-start",children:[Object(o.jsx)(v.b,{className:"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap uppercase text-white",to:"/web/",children:Object(o.jsx)(O,{})}),Object(o.jsx)("button",{className:"cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return l(!c)},children:Object(o.jsx)("span",{className:"text-blue-700",children:Object(o.jsx)(m.c,{})})})]}),Object(o.jsx)("div",{className:"lg:flex flex-grow items-center"+(c?" flex":" hidden"),id:"example-navbar-info",children:Object(o.jsxs)("ul",{className:"flex flex-col lg:flex-row list-none lg:ml-auto",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(v.b,{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-blue-700 hover:opacity-75"+(!i||b?" hidden":""),to:"/login",children:"Login"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(v.b,{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-blue-700 hover:opacity-75"+(i||b?" hidden":""),to:"/web/signup",children:"SignUp"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(v.b,{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-blue-700 hover:opacity-75"+(b?"":" hidden"),to:"/web/profile",children:"Profile"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(v.b,{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug text-blue-700 hover:opacity-75"+(b?"":" hidden"),to:"/login",onClick:function(){j({name:"",role:"",token:""})},children:"Logout"})})]})})]})})})})})}function y(e){return e.fullPage?Object(o.jsx)("div",{className:"fixed z-10 left-0 top-0 w-screen h-screen bg-gray-900 bg-opacity-60 flex justify-center items-center m-0",children:Object(o.jsx)(m.p,{className:"animate-spin w-12 h-12 text-purple-300"})}):Object(o.jsx)("div",{className:"flex justify-center items-center w-full h-full",children:Object(o.jsx)(m.p,{className:"animate-spin w-12 h-12 text-purple-500"})})}var w=document.querySelector("#modal-root");function N(e){var t=e.children,a=e.isOpen,s=e.onClose,r=e.action,l=e.actionType,i=void 0===l?"primary":l,u=e.title,j=e.cancel,b=Object(n.useRef)(document.createElement("div"));Object(n.useEffect)((function(){var e=b.current;return w.appendChild(e),function(){w.removeChild(e)}}),[]);var x=Object(n.useRef)(null);return p(x,s),a?Object(c.createPortal)(Object(o.jsx)("div",{className:"fixed z-10 left-0 top-0 w-screen h-screen bg-gray-900 bg-opacity-60 flex justify-center items-center m-0",children:Object(o.jsxs)("div",{className:"bg-white p-5 max-w-xl w-full rounded-lg shadow-lg overflow-auto max-h-screen",ref:x,children:[Object(o.jsxs)("div",{className:"flex justify-between",children:[Object(o.jsx)("h2",{className:"text-2xl",children:u}),Object(o.jsx)(d,{variant:"grayed",onClick:s,children:Object(o.jsx)(m.q,{})})]}),Object(o.jsx)("div",{className:"py-5",children:t}),(j||r)&&Object(o.jsxs)("div",{className:"flex flex-row-reverse border-t-2 border-purple-100 p-2",children:[j&&Object(o.jsx)(d,{variant:"secondary",onClick:s,children:"Cancel"}),r&&Object(o.jsx)(d,{variant:i,onClick:r,children:"Edit"})]})]})}),b.current):null}function k(e){var t=e.children,a=e.isOpen,s=e.onClose,r=e.action,c=e.actionType,l=void 0===c?"primary":c,i=e.actionName,u=e.title,j=e.cancel,b=Object(n.useRef)(null);return p(b,s),a?Object(o.jsx)("div",{className:"fixed z-10 left-0 top-0 w-screen h-screen bg-gray-900 bg-opacity-60 flex justify-center items-center m-0",children:Object(o.jsxs)("div",{className:"bg-white p-5 max-w-xl w-full rounded-lg shadow-lg overflow-auto max-h-lg",ref:b,children:[Object(o.jsx)("div",{className:"flex justify-between",children:Object(o.jsx)("h2",{className:"text-2xl",children:u})}),Object(o.jsx)("div",{className:"py-5",children:t}),Object(o.jsxs)("div",{className:"flex flex-row-reverse w-full border-t-2 border-purple-100 p-2",children:[j&&Object(o.jsx)("div",{children:Object(o.jsx)(d,{variant:"grayed",onClick:s,children:"Cancel"})}),r&&Object(o.jsx)("div",{className:"mr-5",children:Object(o.jsx)(d,{variant:l,onClick:r,children:i})})]})]})}):null}function S(e){var t=e.id,a=e.label,s=e.options,n=e.placeholder,r=e.isRequired,c=e.multiple,l=e.onChange,i=e.value;return Object(o.jsxs)("div",{className:"flex flex-col space-y-2 w-full",children:[Object(o.jsxs)("label",{htmlFor:t,children:[a,r&&Object(o.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(o.jsx)("div",{className:"mt-1 relative",children:Object(o.jsx)("select",{className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm  py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-purple-500 sm:text-sm",id:t,multiple:c,placeholder:n,required:r,value:i,onChange:l,children:s.map((function(e){return Object(o.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]})}function C(e){var t=e.id,a=e.label,s=e.placeholder,n=e.isRequired,r=e.rows,c=e.autoComplete,l=e.onChange,i=e.value;return Object(o.jsxs)("div",{className:"flex flex-col space-y-2 w-full",children:[a&&Object(o.jsxs)("label",{htmlFor:t,children:[a,n&&Object(o.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(o.jsx)("textarea",{autoComplete:c,className:"p-2 border-2 border-gray-100 rounded-lg focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-purple-500 ",id:t,placeholder:s,required:n,rows:r,value:i,onChange:l})]})}var D=a(29),q=a(15),I=a.n(q),A=a(23);function F(e){var t=e.user,a=e.editAction,r=Object(n.useState)(t),c=Object(s.a)(r,2),l=c[0],i=c[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{className:"w-full space-y-5 flex flex-col justify-center items-center",onSubmit:function(){var e=Object(A.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(l);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(o.jsx)(u,{id:"firstname",isRequired:!0,label:"First Name",placeholder:"First Name",type:"text",value:l.firstname,onChange:function(e){i(Object(D.a)(Object(D.a)({},l),{},{firstname:e.target.value}))}}),Object(o.jsx)(u,{id:"lastname",isRequired:!0,label:"Last Name",placeholder:"Last Name",type:"text",value:l.lastname,onChange:function(e){i(Object(D.a)(Object(D.a)({},l),{},{lastname:e.target.value}))}}),Object(o.jsx)(u,{id:"address",label:"Address",placeholder:"Address",type:"text",value:l.address,onChange:function(e){i(Object(D.a)(Object(D.a)({},l),{},{address:e.target.value}))}}),Object(o.jsx)(u,{id:"phone",label:"Phone",placeholder:"Phone",type:"text",value:l.phoneNumber,onChange:function(e){i(Object(D.a)(Object(D.a)({},l),{},{phoneNumber:e.target.value}))}}),Object(o.jsx)(d,{variant:"primary",wFull:!0,children:"Update Profile"})]})})}function T(e){var t=e.value,a=e.name,s=e.label,n=e.id,r=e.type,c=e.onChange;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("label",{className:"inline-flex items-center mt-3",children:[Object(o.jsx)("input",{className:"form-radio h-5 w-5 text-gray-600",id:n,name:a,type:r,value:t,onChange:c}),Object(o.jsx)("span",{className:"ml-2 text-gray-700",children:s})]})})}a(207);function P(e){var t=e.name,a=e.onChange,s=e.size;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"flex",children:[" ",Object(o.jsx)("div",{className:"rating",children:Array(s).fill(0).map((function(e,n){return Object(o.jsxs)("label",{style:{zIndex:s-n},children:[Object(o.jsx)("input",{id:n+1+"",name:t+"radio1",type:"radio",value:n+1,onChange:a}),Array(n+1).fill(0).map((function(e,t){return Object(o.jsx)("span",{className:"icon",children:"\u2605"},t+1)}))]},n+1)}))})]})})}function R(e){var t=e.value,a=e.name,s=e.label,n=e.id,r=e.type,c=e.checked,l=e.onChange;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("label",{className:"inline-flex items-center mt-3",children:[Object(o.jsx)("input",{checked:c,className:"form-radio h-5 w-5 text-gray-600",id:n,name:a,type:r,value:t,onChange:l}),Object(o.jsx)("span",{className:"ml-2 text-gray-700",children:s})]})})}function L(e){var t=e.header,a=e.descripton;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container mx-auto px-4",children:Object(o.jsx)("section",{className:"py-8 px-4 text-center",children:Object(o.jsxs)("div",{className:"max-w-auto mx-auto",children:[Object(o.jsx)("div",{className:"md:max-w-lg mx-auto",children:Object(o.jsx)("img",{className:"w-64 mx-auto",src:"/static/other/empty.svg"})}),Object(o.jsx)("h2",{className:"mt-8 uppercase text-xl lg:text-5xl font-black",children:t}),Object(o.jsx)("p",{className:"mt-6 uppercase text-sm lg:text-base text-gray-900",children:a}),Object(o.jsx)(v.b,{className:"mt-6 bg-blue-500 hover:bg-blue-700 text-white font-light py-4 px-6 rounded-full inline-block uppercase shadow-md",to:"/web/profile",children:"Visit Profile"})]})})})})}function E(e){var t=e.title,a=e.titleDesc,s=e.icon,n=e.iconBg,r=e.bodyText,c=e.bodyDesc,l=e.viewLink,i=e.linkDesc;return Object(o.jsx)("div",{className:"w-full md:w-6/12 xl:w-3/12 px-4",children:Object(o.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg",children:Object(o.jsxs)("div",{className:"flex-auto p-6",children:[Object(o.jsxs)("div",{className:"flex flex-wrap",children:[Object(o.jsxs)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:[Object(o.jsx)("h5",{className:"text-blueGray-400 uppercase font-bold text-xs",children:t}),Object(o.jsx)("span",{className:"font-semibold text-xl text-blueGray-700",children:a})]}),n&&s&&Object(o.jsx)("div",{className:"relative w-auto pl-4 flex-initial",children:Object(o.jsx)("div",{className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full ".concat(function(e){switch(e){case"red":return"bg-red-500";case"blue":return"bg-blue-500";case"green":return"bg-green-500";case"gray":default:return"bg-gray-500"}}(n)),children:s})})]}),Object(o.jsxs)("div",{className:"flex flex-wrap pt-5",children:[Object(o.jsx)("div",{className:"relative w-full pr-4 h-10 max-w-full flex-grow flex-1 self-center",children:Object(o.jsxs)("p",{className:"text-sm text-blueGray-400",children:[Object(o.jsx)("span",{className:"text-emerald-500 pr-1",children:r}),Object(o.jsx)("span",{className:"whitespace-nowrap",children:c})]})}),Object(o.jsx)("div",{className:"relative w-auto flex-initial",children:l&&Object(o.jsx)(v.b,{to:l,children:Object(o.jsx)("button",{className:"bg-indigo-500 text-white active:bg-indigo-600 text-xs font-bold uppercase px-1 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button",children:i})})})]})]})})})}function U(e){var t=e.data,a=e.tableHeaders,s=e.title;return Object(o.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded",children:[Object(o.jsx)("div",{className:"rounded-t mb-0 px-4 py-3 border-0",children:Object(o.jsxs)("div",{className:"flex flex-wrap items-center",children:[Object(o.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1",children:Object(o.jsx)("h3",{className:"font-semibold text-base text-blueGray-700 camelcase",children:s})}),Object(o.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1 text-right",children:Object(o.jsx)(v.b,{to:"/web/surveyresponse",children:Object(o.jsx)("button",{className:"bg-indigo-500 text-white active:bg-indigo-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",children:"See all"})})})]})}),Object(o.jsx)("div",{className:"block w-full overflow-x-auto",children:Object(o.jsxs)("table",{className:"items-center w-full bg-transparent border-collapse divide-y",children:[Object(o.jsx)("thead",{children:Object(o.jsx)("tr",{children:a.map((function(e,t){return Object(o.jsx)("th",{className:" w-1/"+a.length+" px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 \n                                    text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:e},t)}))})}),Object(o.jsx)("tbody",{children:t&&t.map((function(e,t){return Object(o.jsx)("tr",{className:"break-all",children:a.map((function(t,a){return 0==a&&Object(o.jsx)("th",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs  p-4 text-left ",children:e[t]},a)||Object(o.jsx)("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs p-4 break-words",children:e[t]},a)}))},t)}))})]})})]})}var B=a(365),z=a(366),M=a(370),_=a(185),G=a(186),W=a(84),H=a(188);function K(e){var t=e.data,a=e.title,s=e.xAxisLabel,n=e.lineLabel;return Object(o.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded",children:[Object(o.jsx)("div",{className:"rounded-t mb-0 px-4 py-3 bg-transparent",children:Object(o.jsx)("div",{className:"flex flex-wrap items-center",children:Object(o.jsxs)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:[Object(o.jsx)("h6",{className:"uppercase text-blueGray-100 mb-1 text-xs font-semibold",children:"Overview"}),Object(o.jsx)("h2",{className:"text-black text-xl font-semibold",children:a})]})})}),Object(o.jsx)("div",{className:"p-4 flex-auto",children:Object(o.jsx)("div",{className:"relative h-350-px",children:Object(o.jsx)(B.a,{height:250,width:"95%",children:Object(o.jsxs)(z.a,{data:t,children:[Object(o.jsx)(M.a,{color:"gray",strokeDasharray:"2 2"}),Object(o.jsx)(_.a,{dataKey:s}),Object(o.jsx)(G.a,{}),Object(o.jsx)(W.a,{}),Object(o.jsx)(H.a,{dataKey:n,stroke:"blue",type:"monotone"})]})})})})]})}var Q=[{label:"Select Answer Type",value:""},{label:"Single Line Text",value:"Single Line Text"},{label:"Multi Line Text",value:"Multi Line Text"},{label:"Rating (5)",value:"Rating (5)"},{label:"Rating (10)",value:"Rating (10)"},{label:"Single Select Option",value:"Single Select Option"},{label:"Multi Select Options",value:"Multi Select Options"}];function J(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],l=r[1],j=Object(n.useState)(""),b=Object(s.a)(j,2),x=b[0],p=b[1],h=Object(n.useState)(""),f=Object(s.a)(h,2),O=f[0],v=f[1],g=Object(n.useState)([]),y=Object(s.a)(g,2),w=y[0],N=y[1];return Object(n.useEffect)((function(){N("Multi Select Options"===O||"Single Select Option"===O?function(e){return e.length>0?e:[""]}:[])}),[O]),Object(o.jsxs)("form",{className:"w-full space-y-5 flex flex-col justify-center items-center",onReset:function(e){e.preventDefault()},onSubmit:function(e){e.preventDefault()},children:[Object(o.jsx)(u,{id:"question",isRequired:!0,label:"Question",placeholder:"Question",type:"text",value:c,onChange:function(e){l(e.target.value)}}),Object(o.jsx)(C,{id:"description",isRequired:!0,label:"Description",placeholder:"Description",rows:5,value:x,onChange:function(e){p(e.target.value)}}),Object(o.jsx)(S,{id:"answerType",isRequired:!0,label:"Select Answer Type",options:Q,placeholder:"Select Answer Type",value:O,onChange:function(e){v(e.target.value)}}),("Multi Select Options"===O||"Single Select Option"===O)&&Object(o.jsxs)("div",{className:"w-full space-y-5",children:[w.map((function(e,t){return Object(o.jsx)(u,{id:"option".concat(t+1),isRequired:!0,label:"Option ".concat(t+1),placeholder:"Enter option ".concat(t+1),type:"text",value:e,onChange:function(e){N((function(a){var s=e.target.value,n=Object(i.a)(a);return n[t]=s,Object(i.a)(n)}))}},t+1)})),Object(o.jsx)(d,{type:"button",variant:"grayed",wFull:!0,onClick:function(){N((function(e){return[].concat(Object(i.a)(e),[""])}))},children:Object(o.jsx)(m.m,{})})]}),Object(o.jsx)("hr",{className:"border-2 border-purple-200 w-full"}),Object(o.jsxs)("div",{className:"w-full flex space-x-5",children:[Object(o.jsx)(d,{type:"button",variant:"primary",onClick:function(){t({answerType:O,description:x,optionItems:w,question:c})},children:"Create Item"}),Object(o.jsx)(d,{type:"button",variant:"grayed",onClick:function(){l(""),p(""),v(""),N([""])},children:"Clear form"})]})]})}function V(e){var t=e.children;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g,{}),Object(o.jsx)("div",{children:t})]})}var X=a(96),Y=a.n(X),Z="http://surveyapp.ap-south-1.elasticbeanstalk.com";function $(e,t,a){return ee.apply(this,arguments)}function ee(){return(ee=Object(A.a)(I.a.mark((function e(t,a,s){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s?{Authorization:"Bearer ".concat(s)}:void 0,e.prev=1,e.next=4,Y.a.post(Z+t,a,{headers:n});case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function te(){var e=Object(n.useContext)(Je).handleUpdate,t=Object(f.g)(),a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)(""),j=Object(s.a)(i,2),b=j[0],p=j[1];return Object(o.jsxs)("div",{className:"max-w-md w-full shadow-lg bg-white flex flex-col justify-center items-center p-5 space-y-5 rounded-lg",children:[Object(o.jsx)("h2",{className:"text-gray-700",children:"Login"}),Object(o.jsxs)("form",{className:"w-full space-y-5 flex flex-col justify-center items-center",onSubmit:function(){var a=Object(A.a)(I.a.mark((function a(s){var n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),a.prev=1,a.next=4,$("/auth/login",{password:b,username:c});case 4:n=a.sent,e({name:n.data.username,role:n.data.role,token:n.data.token}),t.push("/web/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),x.b.error("wrong login details");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),children:[Object(o.jsx)(u,{id:"username",isRequired:!0,label:"Username",placeholder:"Username",type:"text",value:c,onChange:function(e){l(e.target.value)}}),Object(o.jsx)(u,{autoComplete:"password",id:"password",isRequired:!0,label:"Password",placeholder:"Password",type:"password",value:b,onChange:function(e){p(e.target.value)}}),Object(o.jsx)(d,{variant:"primary",wFull:!0,children:"Login"})]})]})}function ae(e){var t=e.children,a=e.wFull,r=e.disabled,c=e.deleteAction,l=Object(n.useState)(!1),i=Object(s.a)(l,2),d=i[0],u=i[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"flex justify-center items-center py-2 px-3 bg-red-500 hover:bg-red-400 rounded-lg shadow-sm text-white disabled:opacity-50 ".concat(a&&"w-full"),disabled:r,type:"button",onClick:function(){u(!0)},children:t}),d&&Object(o.jsx)(k,{action:Object(A.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:u(!1);case 3:case"end":return e.stop()}}),e)}))),actionName:"Delete",actionType:"danger",cancel:!0,isOpen:d,title:"Delete Item",onClose:function(){u(!1)},children:"Are you sure you want to delete this item?"})]})}var se=a(372),ne=a(79);function re(e){var t=e.items,a=e.setItems,s=e.setOpen,n=e.isOpen;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"w-full space-y-5",children:[Object(o.jsx)("h3",{className:"text-xl font-bold",children:"Questions"}),t.map((function(e,s){return Object(o.jsxs)("div",{className:"w-full bg-white rounded-lg shadow-sm p-5 flex flex-col space-y-5 md:flex-row md:space-x-5",children:[Object(o.jsxs)("div",{className:"w-full space-y-5",children:[Object(o.jsx)("h3",{className:"font-bold text-xl",children:e.question}),Object(o.jsx)("p",{className:"font-light text-gray-500 overflow-ellipsis overflow-hidden",children:e.description}),Object(o.jsx)("p",{className:"p-2 shadow-sm max-w-min rounded-full bg-purple-500 text-white text-xs whitespace-nowrap",children:e.answerType.toUpperCase()}),e.optionItems.length>0&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{className:"font-bold text-gray-500",children:"Options : "}),Object(o.jsx)("ul",{className:"list-disc list-inside",children:e.optionItems.map((function(e){return Object(o.jsx)("li",{className:"text-gray-500",children:e},Object(se.a)())}))})]})]}),Object(o.jsx)("div",{className:"border-t-2 border-purple-200 flex flex-col justify-center items-center py-5 md:border-t-0 md:border-l-2 md:px-5",children:Object(o.jsx)(ae,{deleteAction:function(){var s=Object(ne.remove)(t,(function(t){return t.uniqueId!==e.uniqueId}));a(s)},children:Object(o.jsx)(m.r,{})})})]},Object(se.a)())})),Object(o.jsx)(d,{type:"button",variant:"grayed",wFull:!0,onClick:function(){s(!0)},children:Object(o.jsx)(m.m,{className:"text-3xl"})})]}),Object(o.jsx)(N,{isOpen:n,title:"Create a question",onClose:function(){s(!1)},children:Object(o.jsx)(J,{onSubmit:function(e){a((function(t){return[].concat(Object(i.a)(t),[e])})),s(!1)}})})]})}function ce(e){var t=e.name,a=e.setName,s=e.description,n=e.setDescription,r=e.tags,c=e.setTags,l=e.startDate,i=e.setEndDate,d=e.endDate,j=e.setStartDate;return Object(o.jsxs)("div",{className:"space-y-5",children:[Object(o.jsx)(u,{id:"survey-name",isRequired:!0,label:"Survey Name",placeholder:"Survey Name",type:"text",value:t,onChange:function(e){a(e.target.value)}}),Object(o.jsx)(C,{id:"survey-description",isRequired:!0,label:"Survey Description",placeholder:"Survey Description",rows:5,value:s,onChange:function(e){n(e.target.value)}}),Object(o.jsx)(u,{id:"survey-tags",isRequired:!0,label:"Survey Tags",placeholder:"Survey Tags",type:"text",value:r,onChange:function(e){c(e.target.value)}}),Object(o.jsx)(h,{id:"startDate",label:"Survey Start Date",placeholder:"Survey Start Date",selectedDay:l,setSelectedDays:j}),Object(o.jsx)(h,{id:"endDate",label:"Survey End Date",placeholder:"Survey End Date",selectedDay:d,setSelectedDays:i})]})}var le=a(373);function ie(e){var t=Object(n.useContext)(Je).state,a=Object(f.g)(),r=e.data,c=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),o=i[0],d=i[1],u=Object(n.useState)([]),j=Object(s.a)(u,2),b=j[0],x=j[1],p=Object(n.useState)(""),h=Object(s.a)(p,2),m=h[0],f=h[1],O=Object(n.useState)(new Date),v=Object(s.a)(O,2),g=v[0],y=v[1],w=Object(n.useState)(new Date),N=Object(s.a)(w,2),k=N[0],S=N[1],C=Object(n.useState)(""),D=Object(s.a)(C,2),q=D[0],I=D[1],A=Object(n.useState)(""),F=Object(s.a)(A,2),T=F[0],P=F[1];return Object(n.useEffect)((function(){e&&(S(new Date(null===e||void 0===e?void 0:e.expiryDate)),I(e.description),x(e.items),f(e.name),y(new Date(null===e||void 0===e?void 0:e.startDate)),P(e.tags))}),[e]),{description:q,endDate:k,isOpen:o,items:b,loading:r,name:m,setDescription:I,setEndDate:S,setItems:x,setLoading:c,setName:f,setOpen:d,setStartDate:y,setTags:P,startDate:g,tags:T}}(r),l=c.description,i=c.items,u=c.name,j=c.startDate,b=c.endDate,p=c.setEndDate,h=c.setDescription,m=c.setName,O=c.setStartDate,v=c.setTags,g=c.tags,w=c.isOpen,N=c.setItems,k=c.setOpen,S=c.loading,C=c.setLoading;return Object(o.jsxs)(o.Fragment,{children:[S&&Object(o.jsx)(y,{fullPage:!0}),Object(o.jsxs)("form",{className:"flex flex-col space-y-5",onSubmit:function(){var e=Object(A.a)(I.a.mark((function e(s){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.preventDefault(),C(!0),n=Object(le.a)(j,{representation:"date"}),!((c=Object(le.a)(b,{representation:"date"}))>n)){e.next=23;break}if(e.prev=5,!r){e.next=11;break}return e.next=9,$("/surveyapp/survey/update",{description:l,expiryDate:c,items:i,name:u,startDate:n,tags:g,uniqueId:null===r||void 0===r?void 0:r.uniqueId},t.token);case 9:e.next=13;break;case 11:return e.next=13,$("/surveyapp/survey/create",{description:l,expiryDate:c,items:i,name:u,startDate:n,tags:g},t.token);case 13:x.b.success("Survey ".concat(r?"updated":"create"," successfully!!")),setTimeout((function(){C(!1),a.push("/web/")}),1e3),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),x.b.error("Something went wrong trying to ".concat(r?"updated":"create"," survey!")),C(!1);case 21:e.next=25;break;case 23:x.b.error("End date should be higher than start date"),C(!1);case 25:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(o.jsx)("h2",{className:"text-3xl font-bold",children:r?"Update Survey":"Create Survey"}),Object(o.jsx)(ce,{description:l,endDate:b,name:u,setDescription:h,setEndDate:p,setName:m,setStartDate:O,setTags:v,startDate:j,tags:g}),Object(o.jsx)(re,{isOpen:w,items:i,setItems:N,setOpen:k}),Object(o.jsx)("div",{className:"mt-5 w-full",children:Object(o.jsx)(d,{disabled:S,type:"submit",variant:"primary",wFull:!0,children:r?"Update Survey":"Create Survey"})})]})]})}var oe=a(97);function de(e){var t=e.onClick;return Object(o.jsx)("div",{className:"h-60 w-full max-w-sm border-gray-300 border-dashed border-4 rounded-lg p-5 text-gray-300 space-y-3 cursor-pointer flex justify-center items-center hover:text-gray-500 hover:border-gray-500",onClick:t,children:Object(o.jsx)(m.m,{className:"h-40 w-40 "})})}function ue(e){var t=e.description,a=e.title,s=e.users,n=e.onClick,r=e.onDelete;return Object(o.jsxs)("div",{className:"flex flex-col justify-between h-60 max-h-64 w-full max-w-sm bg-white shadow-lg rounded-lg p-5 space-y-3  border-4 border-white",children:[Object(o.jsx)("h2",{className:"font-bold text-xl cursor-pointer hover:underline hover:text-purple-500",onClick:n,children:Object(ne.truncate)(a,{length:50})}),Object(o.jsx)("p",{className:"font-light text-gray-400 overflow-ellipsis overflow-hidden",children:Object(ne.truncate)(t,{length:80})}),Object(o.jsxs)("div",{className:"inline-flex justify-between w-full",children:[Object(o.jsx)("div",{className:"flex -space-x-2 justify-between overflow-hidden",children:s&&s.map((function(e){return Object(o.jsx)("img",{alt:e.username,className:"inline-block h-8 w-8 rounded-full ring-2 ring-white bg-purple-500",src:e.image},e.uniqueId)}))}),r&&Object(o.jsx)(ae,{deleteAction:r,children:Object(o.jsx)(m.r,{})})]})]})}var je=["type","onClick"];function be(e){var t=e.type,a=e.onClick,s=Object(oe.a)(e,je);return"add"===t?Object(o.jsx)(de,{onClick:a}):Object(o.jsx)(ue,Object(D.a)({onClick:a},s))}var xe=a(65);function pe(e){var t=Object(n.useContext)(Je).state,a=Object(f.g)(),r=e.surveys,c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=l[0],d=l[1],u=function(){var e=Object(A.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,$("/surveyapp/survey/delete",{uniqueId:a},t.token);case 4:return e.next=6,Object(xe.c)("/surveyapp/survey/all");case 6:d(!1),x.b.success("Survey deleted successfully!"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),x.b.error("something went wrong trying to delete survey!"),d(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"w-full h-full flex",children:[Object(o.jsxs)("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:[Object(o.jsx)("li",{children:Object(o.jsx)(be,{type:"add",onClick:function(){a.push("/web/createSurvey")}})}),r.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(be,{description:e.description,title:e.name,type:"data",users:[{address:"",email:"",firstname:"",image:"https://images.unsplash.com/photo-1550525811-e5869dd03032?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",lastname:"",phoneNumber:"",uniqueId:"1",username:"Non dolor qui"},{address:"",email:"",firstname:"",image:"https://images.unsplash.com/photo-1550525811-e5869dd03032?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",lastname:"",phoneNumber:"",uniqueId:"2",username:"Non dolor qui"}],onClick:function(){a.push("/web/editSurvey/".concat(e.uniqueId))},onDelete:function(){u(e.uniqueId)}})},e.uniqueId)}))]}),i&&Object(o.jsx)(y,{fullPage:!0})]})}var he="http://surveyapp.ap-south-1.elasticbeanstalk.com";function me(e,t){return fe.apply(this,arguments)}function fe(){return(fe=Object(A.a)(I.a.mark((function e(t,a){var s,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.get(he+t,{headers:{Authorization:"Bearer ".concat(a)}});case 3:return s=e.sent,e.next=6,s.data;case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(0),new Error;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Oe(e,t){var a=Object(n.useContext)(Je).state,s={refreshInterval:t?5e3:0,refreshWhenHidden:t,refreshWhenOffline:t,revalidateOnFocus:t,revalidateOnReconnect:t},r=Object(xe.b)(e?[e,a.token]:null,me,s);return{data:r.data,error:r.error,mutate:r.mutate}}function ve(e){var t=e.children,a=e.disabled,r=Object(n.useState)(!1),c=Object(s.a)(r,2),l=c[0],i=c[1],d=Object(n.useContext)(Je).state,u=Oe(l?"/surveyapp/user/profile/get":null,!1),j=u.data,b=u.error,p=u.mutate;Object(n.useEffect)((function(){b&&(x.b.error("Unable to load data"),i(!1))}),[b]);var h=function(){var e=Object(A.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$("/surveyapp/user/profile/update",t,d.token);case 3:return i(!1),e.next=6,p();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x.b.error("Something happened!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{className:"bg-blue-700 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded-full",disabled:a,type:"button",onClick:function(){i(!0)},children:t}),l&&Object(o.jsx)(N,{isOpen:l,title:"Edit Item",onClose:function(){i(!1)},children:j&&Object(o.jsx)(F,{editAction:h,user:j})})]})}function ge(e){var t=e.user,a=t.address,r=t.firstname,c=t.lastname,l=t.phoneNumber,i=t.username,d=Object(n.useState)(!1),u=Object(s.a)(d,1)[0];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"font-sans antialiased text-gray-900 leading-normal tracking-wider bg-cover",children:Object(o.jsxs)("div",{className:"max-w-4xl flex items-center h-auto lg:h-screen flex-wrap mx-auto my-32 lg:my-0",children:[Object(o.jsx)("div",{className:"w-full lg:w-3/5 rounded-lg lg:rounded-l-lg lg:rounded-r-none shadow-2xl bg-white opacity-75 mx-6 lg:mx-0",id:"profile",children:Object(o.jsxs)("div",{className:"p-4 md:p-12 text-center lg:text-left",children:[Object(o.jsx)("div",{className:"block lg:hidden rounded-full shadow-xl mx-auto -mt-16 h-48 w-48 bg-cover bg-center",style:{backgroundImage:"url(https://source.unsplash.com/fH-BSvYeX5g)"}}),Object(o.jsx)("h1",{className:"text-3xl font-bold pt-8 lg:pt-0",children:r+" "+c}),Object(o.jsx)("div",{className:"mx-auto lg:mx-0 w-4/5 pt-3 border-b-2 border-blue-500 opacity-25"}),Object(o.jsxs)("p",{className:"pt-4 text-base font-bold flex items-center justify-center lg:justify-start",children:[Object(o.jsx)("div",{className:"h-3 fill-current text-blue-700 ",children:Object(o.jsx)(m.b,{size:"15"})}),Object(o.jsx)("div",{children:i})]}),Object(o.jsxs)("p",{className:"pt-2 text-gray-600 text-xs lg:text-sm flex items-center justify-center lg:justify-start",children:[Object(o.jsx)("div",{className:"h-4 fill-current text-blue-700 pr-3",children:Object(o.jsx)(m.l,{size:"18"})}),l||"123456789"]}),Object(o.jsx)("p",{className:"pt-4 text-base flex items-center justify-center lg:justify-start",children:a||"Infopark Road Infopark Campus, Infopark E, Kakkanad, Kerala 682042"}),Object(o.jsx)("p",{className:"pt-8 text-sm",children:"I am what i am and i do what i do."}),Object(o.jsx)("div",{className:"pt-12 pb-8",children:Object(o.jsx)(ve,{children:"Edit"})}),Object(o.jsxs)("div",{className:"mt-6 pb-16 lg:pb-0 w-4/5 lg:w-full mx-auto flex flex-wrap items-center justify-between",children:[Object(o.jsx)("a",{className:"link","data-tippy-content":"@facebook_handle",href:"#",children:Object(o.jsx)("div",{className:"h-6 fill-current text-gray-600 hover:text-blue-700",children:Object(o.jsx)(m.g,{size:"30"})})}),Object(o.jsx)("a",{className:"link","data-tippy-content":"@twitter_handle",href:"#",children:Object(o.jsx)("div",{className:"h-6 fill-current text-gray-600 hover:text-blue-700",children:Object(o.jsx)(m.i,{size:"30"})})}),Object(o.jsx)("a",{className:"link","data-tippy-content":"@github_handle",href:"#",children:Object(o.jsx)("div",{className:"h-6 fill-current text-gray-600 hover:text-blue-700",children:Object(o.jsx)(m.k,{size:"30"})})}),Object(o.jsx)("a",{className:"link","data-tippy-content":"@unsplash_handle",href:"#",children:Object(o.jsx)("div",{className:"h-6 fill-current text-gray-600 hover:text-blue-700",children:Object(o.jsx)(m.s,{size:"30"})})})]})]})}),Object(o.jsx)("div",{className:"w-full lg:w-2/5",children:Object(o.jsx)("img",{className:"rounded-none lg:rounded-lg shadow-2xl hidden lg:block",src:"https://source.unsplash.com/ooAFvQKgJz8"})})]})}),u&&Object(o.jsx)(y,{fullPage:!0})]})}function ye(e){var t=Object(f.g)(),a=e.surveys,r=Object(n.useState)(!1),c=Object(s.a)(r,1)[0];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:a.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(be,{description:e.description,title:e.name,type:"data",onClick:function(){t.push("/web/attend/".concat(e.uniqueId))}})},e.uniqueId)}))}),c&&Object(o.jsx)(y,{fullPage:!0})]})}function we(e){var t=e.data,a=t.attendedSurvey,s=t.lastname,n=t.availableSurvey,r=t.points,c=t.totalTopics,l=t.weeklyAttendedSurvey,i=t.weeklyAvailableSurvey,d=t.weeklyPoints;return Object(o.jsx)("div",{className:"relative bg-lightBlue-600 md:pt-32 pb-32 pt-10",children:Object(o.jsxs)("div",{className:"px-4 md:px-10 mx-auto w-full",children:[Object(o.jsx)("div",{className:"flex justify-end",children:Object(o.jsxs)("div",{className:"pr-5 text-blueGray-700 hover:text-blueGray-500 text-xs uppercase py-3 font-bold block text-lg",children:["Hi, ",s]})}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"flex flex-wrap",children:[Object(o.jsx)(E,{bodyDesc:"Since last week",bodyText:d,icon:Object(o.jsx)(m.h,{}),iconBg:"red",title:"Points Gained",titleDesc:r}),Object(o.jsx)(E,{bodyDesc:"Since last week",bodyText:l,icon:Object(o.jsx)(m.e,{}),iconBg:"gray",title:"Attended Surveys",titleDesc:a}),Object(o.jsx)(E,{bodyDesc:"Since last week",bodyText:i,icon:Object(o.jsx)(m.o,{}),iconBg:"green",linkDesc:"click to view",title:"Availble Surveys",titleDesc:n,viewLink:"/web/usersurvey"}),Object(o.jsx)(E,{bodyDesc:"Total topics",bodyText:c,icon:Object(o.jsx)(m.j,{}),iconBg:"indigo",title:"Populer Topics",titleDesc:"Sports, Movie"})]})})]})})}function Ne(e){var t=e.adminAnalytics,a=t.totalSurveys,s=t.weeklySurveys,n=t.totalActiveSurveys,r=t.weeklyActiveSurveys,c=t.totalUpcomingSurveys,l=t.totalSurveyResponses,i=t.totalUsers,d=t.newUsers,u=t.weeklyUserSurveyData,j=t.recentSurveys,b=function(){return j.map((function(e){var t,a,s,n;return{no_of_questions:null===(t=e.survey)||void 0===t?void 0:t.items.length,survey_expiry:null===(a=e.survey)||void 0===a?void 0:a.expiryDate,survey_name:null===(s=e.survey)||void 0===s?void 0:s.name,user:null===(n=e.user)||void 0===n?void 0:n.lastname}}))};return Object(o.jsx)("div",{className:"relative bg-lightBlue-600 md:pt-32 pb-32 pt-10",children:Object(o.jsxs)("div",{className:"px-4 md:px-10 mx-auto w-full",children:[Object(o.jsxs)("div",{className:"flex flex-wrap",children:[Object(o.jsx)(E,{bodyDesc:"Since last week",bodyText:s,icon:Object(o.jsx)(m.d,{}),iconBg:"red",linkDesc:"create new",title:"Total Surveys",titleDesc:a,viewLink:"/web/createSurvey"}),Object(o.jsx)(E,{bodyDesc:"Since last week",bodyText:r,icon:Object(o.jsx)(m.f,{}),iconBg:"gray",title:"Active Surveys",titleDesc:n}),Object(o.jsx)(E,{bodyDesc:"Total Responses",bodyText:l,icon:Object(o.jsx)(m.a,{}),iconBg:"green",linkDesc:"click to view",title:"Upcoming Services",titleDesc:c,viewLink:"/web/adminsurvey"}),Object(o.jsx)(E,{bodyDesc:"since last week",bodyText:d,icon:Object(o.jsx)(m.d,{}),iconBg:"indigo",title:"Total Users",titleDesc:i})]}),Object(o.jsxs)("div",{className:"flex flex-wrap mt-10",children:[u&&Object(o.jsx)("div",{className:"w-full xl:w-6/12 mb-12 xl:mb-0 px-4",children:Object(o.jsx)(K,{data:u,lineLabel:"noOfUsers",title:"Weekly Survey Responses",xAxisLabel:"date"})}),b()&&Object(o.jsx)("div",{className:"w-full xl:w-6/12 px-4",children:Object(o.jsx)(U,{data:b(),tableHeaders:["survey_name","user","survey_expiry","no_of_questions"],title:"Survey Responses"})})]})]})})}function ke(e){var t=Object(f.g)(),a=e.surveys,r=Object(n.useState)(!1),c=Object(s.a)(r,1)[0];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:a.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(be,{description:e.description,title:e.name,type:"data",onClick:function(){t.push("/web/viewresponse/".concat(e.uniqueId))}})},e.uniqueId)}))}),c&&Object(o.jsx)(y,{fullPage:!0})]})}function Se(e){var t=e.response,a=e.survey,s=e.user;return t&&a&&s?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"p-2 sm:p-12 md:24",children:[Object(o.jsxs)("table",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Survey Name"}),Object(o.jsx)("td",{children:a.name})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Survey Expiry"}),Object(o.jsx)("td",{children:a.expiryDate})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"User"}),Object(o.jsx)("td",{children:s.lastname})]})]}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"pb-5 border-t-2 border-light-blue-100"}),Object(o.jsx)("ul",{children:t.map((function(e,t){var a;return Object(o.jsxs)("li",{children:[Object(o.jsx)("div",{className:"py-3",children:Object(o.jsx)("div",{children:Object(o.jsx)("p",{className:"text-1xl subpixel-antialiased font-semibold tracking-wide leading-9 break-words",children:"("+(t+1)+") "+(null===(a=e.question)||void 0===a?void 0:a.question)})})}),Object(o.jsx)("div",{className:"pl-3",children:Object(o.jsx)("p",{className:"text-1xl subpixel-antialiased tracking-wide leading-9 break-words",children:e.answers})})]},t)}))})]})}):Object(o.jsx)("h1",{children:"No Response"})}function Ce(){return Object(o.jsx)(V,{children:Object(o.jsx)("div",{className:"p-5 lg:p-12",children:Object(o.jsx)(ie,{})})})}function De(){var e=Object(f.h)().surveyId,t=Oe(e?"/surveyapp/survey/get?surveyId=".concat(e):null,!1).data;return Object(o.jsx)(V,{children:Object(o.jsx)("div",{className:"p-5 lg:p-12",children:Object(o.jsx)(ie,{data:t})})})}function qe(){var e=Oe("/surveyapp/survey/all/upcoming",!0),t=e.data,a=e.error;return Object(n.useEffect)((function(){a&&x.b.error("Unable to load data")}),[a]),Object(o.jsx)(V,{children:Object(o.jsx)("div",{className:"p-5 lg:p-12",children:t?Object(o.jsx)(pe,{surveys:t}):Object(o.jsx)(y,{fullPage:!0})})})}function Ie(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g,{isLogin:!1}),Object(o.jsx)("div",{className:"w-full mt-20 flex justify-center items-center",children:Object(o.jsx)(te,{})})]})}function Ae(){var e=Object(f.g)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(""),i=Object(s.a)(l,2),j=i[0],b=i[1],p=Object(n.useState)(""),h=Object(s.a)(p,2),m=h[0],O=h[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),y=g[0],w=g[1];return Object(o.jsxs)("div",{className:"max-w-md w-full shadow-lg bg-white flex flex-col justify-center items-center p-5 space-y-5 rounded-lg",children:[Object(o.jsx)("h2",{className:"text-gray-700",children:"Sign Up"}),Object(o.jsxs)("form",{className:"w-full space-y-5 flex flex-col justify-center items-center",onSubmit:function(){var t=Object(A.a)(I.a.mark((function t(a){var s,n,l,i,o,d;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.preventDefault(),console.log(r),t.next=5,$("/auth/signup",{email:r,firstname:m,lastname:y,password:j});case 5:s=t.sent,console.log(s.status),console.log(s),x.b.success("done"),e.push("/web/login"),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(0),d=(null===t.t0||void 0===t.t0||null===(n=t.t0.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.message)?null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message:"Error occured",x.b.error(d),b(""),c("");case 18:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),children:[Object(o.jsx)(u,{id:"firstname",isRequired:!0,label:"Frstname",placeholder:"Firstname",type:"text",value:m,onChange:function(e){O(e.target.value)}}),Object(o.jsx)(u,{id:"lastname",isRequired:!0,label:"Lastname",placeholder:"Lastname",type:"text",value:y,onChange:function(e){w(e.target.value)}}),Object(o.jsx)(u,{id:"email",isRequired:!0,label:"Email",placeholder:"Email",type:"email",value:r,onChange:function(e){c(e.target.value)}}),Object(o.jsx)(u,{id:"password",isRequired:!0,label:"Password",maxLength:8,minLength:5,placeholder:"Password",type:"password",value:j,onChange:function(e){b(e.target.value)}}),Object(o.jsx)(d,{variant:"secondary",wFull:!0,children:"Sign UP"})]})]})}function Fe(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g,{isLogin:!0}),Object(o.jsx)("div",{className:"w-full px-3 mt-12 flex justify-center items-center",children:Object(o.jsx)(Ae,{})})]})}function Te(e){var t=e.survey,a=e.submitAction,r=Object(n.useState)(new Map),c=Object(s.a)(r,2),l=c[0],i=c[1],j=Object(n.useState)(new Map),b=Object(s.a)(j,2),x=b[0],p=b[1],h=function(e,t){var a=e.target.value,s=l,n=t.answerType,r=t.uniqueId;if("checkbox"==e.target.type){var c=x;!e.target.checked&&c.has(r+a)?c.delete(r+a):c.set(r+a,{checked:!0,value:e.target.value}),p(c);var o=[];x.forEach((function(e,t){t.startsWith(r)&&o.push(e.value)})),s.set(r,{answerType:n,multipleAnswer:o,questionId:r})}else s.set(r,{answerType:n,questionId:r,singleAnswer:a});i(s)};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("form",{onSubmit:function(e){e.preventDefault(),a(Array.from(l.values()))},children:Object(o.jsxs)("div",{className:"p-2 sm:p-12 md:24",children:[Object(o.jsx)("h1",{className:"flex justify-center pb-2",children:Object(o.jsx)("p",{className:"text-3xl subpixel-antialiased font-semibold tracking-wide leading-9 uppercase break-words",children:null===t||void 0===t?void 0:t.name})}),Object(o.jsx)("div",{className:"pb-5 border-t-2 border-light-blue-100"}),Object(o.jsx)("ul",{children:null===t||void 0===t?void 0:t.items.map((function(e,t){var a,s;return Object(o.jsx)("li",{children:Object(o.jsxs)("div",{className:"py-3",children:[Object(o.jsx)("div",{children:Object(o.jsx)("p",{className:"text-1xl subpixel-antialiased font-semibold tracking-wide leading-9 break-words",children:"("+(t+1)+") "+e.question})}),Object(o.jsxs)("div",{className:"pl-3",children:["Single Line Text"===e.answerType&&Object(o.jsx)(u,{id:e.uniqueId,isRequired:!0,type:"text",value:null===(a=l.get(e.uniqueId))||void 0===a?void 0:a.singleAnswer,onChange:function(t){h(t,e)}}),"Multi Line Text"===e.answerType&&Object(o.jsx)(C,{id:e.uniqueId,isRequired:!0,rows:3,value:null===(s=l.get(e.uniqueId))||void 0===s?void 0:s.singleAnswer,onChange:function(t){h(t,e)}}),"Single Select Option"===e.answerType&&Object(o.jsx)(o.Fragment,{children:e.optionItems.map((function(t,a){var s;return Object(o.jsx)("div",{className:"flex flex-col",children:Object(o.jsx)(T,{id:a+"",label:t,name:"singlesel",type:"radio",value:l.get(e.uniqueId)?null===(s=l.get(e.uniqueId))||void 0===s?void 0:s.singleAnswer:t,onChange:function(t){h(t,e)}})},a)}))}),"Multi Select Options"===e.answerType&&Object(o.jsx)(o.Fragment,{children:e.optionItems.map((function(t,a){var s;return Object(o.jsx)("div",{className:"flex flex-col",children:Object(o.jsx)(R,{checked:null===(s=x.get(e.uniqueId+t))||void 0===s?void 0:s.checked,id:a+"",label:t,name:"singlesel1",type:"checkbox",value:t,onChange:function(t){h(t,e)}})},a)}))}),"Rating (5)"===e.answerType&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(P,{name:"star",size:5,onChange:function(t){h(t,e)}})}),"Rating (10)"===e.answerType&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(P,{name:"star1",size:10,onChange:function(t){h(t,e)}})})]})]})},e.uniqueId)}))}),Object(o.jsx)(d,{type:"submit",variant:"primary",children:"Submit Response"})]})})})}function Pe(){var e=Object(f.g)(),t=Object(n.useContext)(Je).state,a=Object(f.h)().surveyId,s=Oe(a?"/surveyapp/survey/get?surveyId=".concat(a):null,!1).data,r=Oe("/surveyapp/user/profile/get",!1).data,c=function(){var a=Object(A.a)(I.a.mark((function a(n){var c;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,$("/surveyapp/user/survey/submit",{responses:n,surveyId:null===s||void 0===s?void 0:s.uniqueId,userId:null===r||void 0===r?void 0:r.uniqueId},t.token);case 3:c=a.sent,console.log(c),x.b.success("completed"),e.push("/web/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),x.b.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}();return Object(o.jsx)(V,{children:Object(o.jsx)("div",{className:"p-5 lg:p-12",children:s&&r?Object(o.jsx)(Te,{submitAction:c,survey:s}):Object(o.jsx)(y,{fullPage:!0})})})}function Re(){var e=Oe("/surveyapp/survey/all/active",!0),t=e.data,a=e.error;return Object(n.useEffect)((function(){a&&x.b.error("Unable to load data")}),[a]),Object(o.jsx)(V,{children:Object(o.jsx)("div",{className:"p-5 lg:p-12",children:0==(null===t||void 0===t?void 0:t.length)&&Object(o.jsx)(L,{descripton:"Please visit back later to complete some of the exiting surveys",header:"We are sorry! We do not have an open survey available to you"})||(null!=t||void 0!=t)&&Object(o.jsx)(ye,{surveys:t})||Object(o.jsx)(y,{fullPage:!0})})})}function Le(){var e=Oe("/surveyapp/user/anylytics",!0),t=e.data,a=e.error;return Object(n.useEffect)((function(){a&&x.b.error("Unable to load data")}),[a]),Object(o.jsx)(V,{children:t?Object(o.jsx)(we,{data:t}):Object(o.jsx)(y,{fullPage:!0})})}function Ee(){var e=Oe("/surveyapp/admin/anylytics",!0),t=e.data,a=e.error;return Object(n.useEffect)((function(){a&&x.b.error("Unable to load data ")}),[a]),Object(o.jsx)(V,{children:t?Object(o.jsx)(Ne,{adminAnalytics:t}):Object(o.jsx)(y,{fullPage:!0})})}function Ue(){var e=Oe("/surveyapp/survey/all",!1),t=e.data,a=e.error;return Object(n.useEffect)((function(){a&&x.b.error("Unable to load data")}),[a]),Object(o.jsx)(V,{children:Object(o.jsx)("div",{className:"p-5 lg:p-12",children:0==(null===t||void 0===t?void 0:t.length)&&Object(o.jsx)(L,{descripton:"Please visit back later",header:"We are sorry! We do not have any survey responses available to you"})||(null!=t||void 0!=t)&&Object(o.jsx)(ke,{surveys:t})||Object(o.jsx)(y,{fullPage:!0})})})}function Be(){var e=Object(f.h)().surveyId,t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],l=Oe(e?"/surveyapp/survey/getresponse?surveyId=".concat(e):null,!1).data;return Object(o.jsxs)(V,{children:[Object(o.jsx)("div",{className:"p-5 lg:p-12",children:Object(o.jsx)("div",{className:"w-full h-full flex",children:Object(o.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:l&&l.map((function(e,t){var a;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(ue,{description:"Attended Questions : ".concat(e.responses.length),title:"Response by "+(null===(a=e.user)||void 0===a?void 0:a.lastname),onClick:function(){return c(!0)}},t),r&&Object(o.jsx)(N,{isOpen:r,title:"View Response",onClose:function(){c(!1)},children:Object(o.jsx)(Se,{response:e.responses,survey:e.survey,user:e.user})})]})}))})})}),!l&&Object(o.jsx)(y,{fullPage:!0})]})}function ze(){var e=Oe("/surveyapp/user/profile/get",!1),t=e.data,a=e.error;return Object(n.useEffect)((function(){a&&x.b.error("Unable to load data")}),[a]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(V,{children:t?Object(o.jsx)(ge,{user:t}):Object(o.jsx)(y,{fullPage:!0})})})}a(359);var Me=["isAuthenticated","authenticationPath"];function _e(e){var t=e.isAuthenticated,a=e.authenticationPath,s=Object(oe.a)(e,Me);return t?Object(o.jsx)(f.b,Object(D.a)({},s)):Object(o.jsx)(f.a,{to:{pathname:a}})}function Ge(){var e=Object(n.useContext)(Je);return console.log(e.state),Object(o.jsxs)("div",{className:"bg-gray-50 w-full h-full min-w-screen min-h-screen",children:[Object(o.jsx)(v.a,{children:Object(o.jsxs)(f.d,{children:[Object(o.jsx)(f.b,{path:"/web/login",children:Object(o.jsx)(Ie,{})}),Object(o.jsx)(f.b,{path:"/web/signup",children:Object(o.jsx)(Fe,{})}),Object(o.jsx)(_e,{authenticationPath:"/web/",component:ze,exact:!0,isAuthenticated:Boolean(e.state.token&&"Admin"===e.state.role||"User"===e.state.role),path:"/web/profile"}),Object(o.jsx)(_e,{authenticationPath:"/web/login",component:e.state.token&&"Admin"===e.state.role?Ee:Le,exact:!0,isAuthenticated:Boolean(e.state.token),path:"/web/"}),Object(o.jsx)(_e,{authenticationPath:"/web/",component:Ce,isAuthenticated:Boolean(e.state.token&&"Admin"===e.state.role),path:"/web/createSurvey"}),Object(o.jsx)(_e,{authenticationPath:"/web/",component:qe,isAuthenticated:Boolean(e.state.token&&"Admin"===e.state.role),path:"/web/adminsurvey"}),Object(o.jsx)(_e,{authenticationPath:"/web/",component:Ue,isAuthenticated:Boolean(e.state.token&&"Admin"===e.state.role),path:"/web/surveyresponse"}),Object(o.jsx)(_e,{authenticationPath:"/web/",component:Be,isAuthenticated:Boolean(e.state.token&&"Admin"===e.state.role),path:"/web/viewresponse/:surveyId"}),Object(o.jsx)(_e,{authenticationPath:"/web/",component:Re,isAuthenticated:Boolean(e.state.token&&"User"===e.state.role),path:"/web/usersurvey"}),Object(o.jsx)(_e,{authenticationPath:"/web/",component:De,isAuthenticated:Boolean(e.state.token&&"Admin"===e.state.role),path:"/web/editSurvey/:surveyId"}),Object(o.jsx)(_e,{authenticationPath:"/web/",component:Pe,isAuthenticated:Boolean(e.state.token&&"User"==e.state.role),path:"/web/attend/:surveyId"}),Object(o.jsx)(f.a,{to:"/web/"})]})}),Object(o.jsx)(x.a,{autoClose:5e3,closeOnClick:!0,hideProgressBar:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,position:"bottom-left"})]})}a(360);var We=function(e){var t=n.createContext({handleUpdate:function(){return console.log(e),localStorage.setItem("token",e.token||""),localStorage.setItem("role",e.role||""),e},state:e});return[t,function(a){var r=n.useState(e),c=Object(s.a)(r,2),l=c[0],i=c[1];return Object(o.jsx)(t.Provider,Object(D.a)({value:{handleUpdate:function(e){localStorage.setItem("token",e.token||""),localStorage.setItem("role",e.role||""),i(e)},state:l}},a))}]}({name:"",role:localStorage.getItem("role")||"",token:localStorage.getItem("token")||""}),He=Object(s.a)(We,2),Ke=He[0],Qe=He[1],Je=Ke;l.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(Qe,{children:Object(o.jsx)(xe.a,{value:{dedupingInterval:5e3,fetcher:me,refreshInterval:0},children:Object(o.jsx)(Ge,{})})})}),document.getElementById("root"))}},[[361,1,2]]]);
//# sourceMappingURL=main.e45f6af1.chunk.js.map